@using Microsoft.AspNetCore.Components.Routing
@inherits ComponentBase

<div class="nav-header">
    <button class="hamburger" title="Toggle menu" @onclick="HandleToggle">
        <span class="bi bi-list" aria-hidden="true"></span>
        @if (IsNavExpanded)
        {
            <span class="menu-text">Menu</span>
        }
    </button>
</div>

<div class="nav-scrollable">
    <nav class="flex-column">
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="home" Match="NavLinkMatch.All">
                <span class="bi bi-house-door-fill" aria-hidden="true"></span>
                @if (IsNavExpanded) { <span class="label">Home</span> }
            </NavLink>
        </div>

        <div class="nav-item px-3">
            <NavLink class="nav-link" href="marks/markcalculator">
                <span class="bi bi-plus-square-fill" aria-hidden="true"></span>
                @if (IsNavExpanded) { <span class="label">Mark Calculator</span> }
            </NavLink>
        </div>

        <div class="nav-item px-3">
            <NavLink class="nav-link" href="schedule/weeklyschedule">
                <span class="bi bi-list-nested" aria-hidden="true"></span>
                @if (IsNavExpanded) { <span class="label">Weekly Schedule</span> }
            </NavLink>
        </div>
    </nav>
</div>

@code {
    [Parameter] public bool IsNavExpanded { get; set; } = true;
    [Parameter] public EventCallback OnToggleNav { get; set; }

    private async Task HandleToggle()
    {
        if (OnToggleNav.HasDelegate)
            await OnToggleNav.InvokeAsync(null);
    }
}
